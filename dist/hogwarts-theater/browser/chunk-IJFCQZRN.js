import{Aa as h,Ea as m,Fb as p,P as v,U as f,Va as g,Z as d,aa as n,ga as c,na as l,xa as a}from"./chunk-RZEEZU5S.js";var I=(()=>{let e=class e{constructor(t,i){this.el=t,this.renderer=i,this.alcaholic=!1,this.className=""}ngOnChanges(t){t.alcaholic&&(this.alcaholic?(this.renderer.addClass(this.el.nativeElement,"alcoholic-badge"),this.renderer.setProperty(this.el.nativeElement,"textContent","Alcaholic")):(this.renderer.addClass(this.el.nativeElement,"non-alcoholic-badge"),this.renderer.setProperty(this.el.nativeElement,"textContent","Non Alcoholic")))}};e.\u0275fac=function(i){return new(i||e)(a(l),a(h))},e.\u0275dir=n({type:e,selectors:[["","alcaholic",""]],inputs:{alcaholic:"alcaholic",className:"className"},standalone:!0,features:[c]});let r=e;return r})();var o=function(r){return r.favourite="FAVOURITE_COCKTAILS",r}(o||{});var F=(()=>{let e=class e{constructor(t){this.httpClient=t,this.favourites=m([]),this.favourites.set(this.getStoredFavouritesCocktails())}getCocktails(){return this.httpClient.get("/cocktails")}changeFavourite(t,i){if(i)this.favourites().find(u=>u.id==t.id)||(this.favourites.set([...this.favourites(),t]),localStorage.setItem(o.favourite,JSON.stringify(this.favourites())),this.saveFavouriteLocally());else{this.removeFavourite(t);return}}removeFavourite(t){if(!t)return;let i=this.favourites().findIndex(s=>s.id==t.id);if(i!==-1){let s=this.favourites().splice(i,1);this.favourites.set(s),this.saveFavouriteLocally()}}saveFavouriteLocally(){localStorage.setItem(o.favourite,JSON.stringify(this.favourites()))}getStoredFavouritesCocktails(){let t=localStorage.getItem(o.favourite);return t?JSON.parse(t):[]}};e.\u0275fac=function(i){return new(i||e)(f(p))},e.\u0275prov=v({token:e,factory:e.\u0275fac,providedIn:"root"});let r=e;return r})();var j=(()=>{let e=class e{constructor(t,i,s){this.el=t,this.renderer=i,this.cocktailService=s,this.isActive=!1}ngOnChanges(t){this.checkFavouriteInitially()}onClick(){this.cocktail&&(this.isActive=!this.isActive,this.isActive?this.renderer.addClass(this.el.nativeElement,"active"):this.renderer.removeClass(this.el.nativeElement,"active"),this.cocktailService.changeFavourite(this.cocktail,this.isActive))}checkFavouriteInitially(){this.isFavourite()&&this.onClick()}isFavourite(){let t=this.cocktailService.favourites();return t?.length?!!t.find(s=>s.id===this.cocktail.id):!1}};e.\u0275fac=function(i){return new(i||e)(a(l),a(h),a(F))},e.\u0275dir=n({type:e,selectors:[["","favouriteChange",""]],hostBindings:function(i,s){i&1&&g("click",function(){return s.onClick()})},inputs:{cocktail:[d.None,"favouriteChange","cocktail"]},standalone:!0,features:[c]});let r=e;return r})();export{I as a,F as b,j as c};
